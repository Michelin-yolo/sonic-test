============================= test session starts ==============================
platform linux2 -- Python 2.7.12, pytest-4.6.5, py-1.8.1, pluggy-0.13.1
ansible: 2.8.7
rootdir: /var/johnar/sonic-mgmt/tests, inifile: pytest.ini
plugins: ansible-2.2.2, xdist-1.28.0, repeat-0.8.0, forked-1.1.3
collected 1 item

ixia/test_ixia_demo_32_bgp_fib.py::test_ixia_demo_32_bgp_fib 
-------------------------------- live log setup --------------------------------
2020-09-29 06:18:02 [    INFO] dut accton-as7716 belongs to groups [u'lab', u'sonic', u'sonic_accton'] (conftest.py:304)
2020-09-29 06:18:02 [    INFO] skip empty var file ../ansible/group_vars/all/env.yml (conftest.py:315)
2020-09-29 06:18:02 [    INFO] skip empty var file ../ansible/group_vars/all/corefile_uploader.yml (conftest.py:315)
2020-09-29 06:18:02 [    INFO] Start pre-test sanity check (__init__.py:53)
2020-09-29 06:18:02 [    INFO] Found marker: m.name=disable_loganalyzer, m.args=(), m.kwargs={} (__init__.py:63)
2020-09-29 06:18:02 [    INFO] Sanity check settings: skip_sanity=True, check_items=set(['services', 'interfaces', 'processes', 'dbmemory']), allow_recover=False, recover_method=adaptive, post_check=False (__init__.py:89)
2020-09-29 06:18:02 [    INFO] Skip sanity check according to command line argument or configuration of test script. (__init__.py:92)
2020-09-29 06:18:02 [    INFO] Add start marker into DUT syslog (__init__.py:14)
2020-09-29 06:18:03 [    INFO] using python version 2.7.12 (default, Apr 15 2020, 17:07:12) 
[GCC 5.4.0 20160609] (connection.py:81)
2020-09-29 06:18:03 [    INFO] using ixnetwork-restpy version 1.0.52 (connection.py:83)
2020-09-29 06:18:03 [ WARNING] Verification of certificates is disabled (connection.py:242)
2020-09-29 06:18:03 [    INFO] The package will automatically determine the test tool platform and rest_port using the 10.36.78.241 address. (connection.py:239)
2020-09-29 06:18:03 [ WARNING] Unable to connect to test tool at http://10.36.78.241:443. (connection.py:242)
2020-09-29 06:18:03 [    INFO] Connection established to `https://10.36.78.241:443 on linux` (connection.py:239)
2020-09-29 06:18:13 [    INFO] using IxNetwork api server version 9.10.2007.7 (connection.py:239)
-------------------------------- live log call ---------------------------------
2020-09-29 06:18:14 [    INFO] 获取拓扑连接信息。 (ixia_helpers.py:654)
2020-09-29 06:18:14 [    INFO] 创建 Ixia Session IP。 (ixia_helpers.py:654)
2020-09-29 06:18:14 [    INFO] 加载配置文件。 (ixia_helpers.py:654)
2020-09-29 06:18:16 [    INFO] 配置License server信息。 (ixia_helpers.py:654)
2020-09-29 06:18:19 [    INFO] 连接机框，开始抢占端口[[u'10.36.78.8', '1', '1'], [u'10.36.78.8', '1', '3']] (ixia_helpers.py:654)
2020-09-29 06:18:19 [    INFO] 连接机框 10.36.78.8，开始抢占端口1/1 (ixia_helpers.py:654)
2020-09-29 06:18:19 [    INFO] 连接机框 10.36.78.8，开始抢占端口1/3 (ixia_helpers.py:654)
2020-09-29 06:18:57 [    INFO] 测试仪开启ARP应答，主动发送ARP请求。 (ixia_helpers.py:654)
2020-09-29 06:18:57 [    INFO] 建立BGP邻居关系, 发布BGP路由 (ixia_helpers.py:654)
2020-09-29 06:19:01 [    INFO] 等待协议建立完成，检查协议状态和数量是否正确。 (ixia_helpers.py:654)
2020-09-29 06:19:17 [    INFO] 

Protocol STATS: Row:0  View:Protocols Summary  Sampled:2020-09-29 06:19:17.462872 UTC
	Protocol Type: BGP Peer
	Sessions Up: 32
	Sessions Down: 0
	Sessions Not Started: 0
	Sessions Total: 32
	Average Setup Rate: N/A
	Average Teardown Rate: N/A
Row:1  View:Protocols Summary  Sampled:2020-09-29 06:19:17.462872 UTC
	Protocol Type: IPv4
	Sessions Up: 32
	Sessions Down: 0
	Sessions Not Started: 0
	Sessions Total: 32
	Average Setup Rate: N/A
	Average Teardown Rate: N/A


 (ixia_helpers.py:654)
2020-09-29 06:19:19 [    INFO] 

BGP STATS: Row:0  View:BGP Peer Per Port  Sampled:2020-09-29 06:19:19.621479 UTC
	Port: 10GE LAN - 001
	Sessions Up: 16
	Sessions Down: 0
	Sessions Not Started: 0
	Sessions Total: 16
	Sessions Configured: 16
	Sessions Established: 16
	Session Flap Count: 0
	Idle State Count: 0
	Connect State Count: 0
	Active State Count: 0
	OpenSent State Count: 0
	OpenConfirm State Count: 0
	Established State Count: 16
	Routes Advertised: 8000
	Routes Withdrawn: 0
	Messages Tx: 8093
	Messages Rx: 626
	Updates Tx: 8000
	Updates Rx: 549
	Routes Rx: 256016
	Route Withdraws Rx: 0
	Opens Tx: 16
	Opens Rx: 16
	KeepAlives Tx: 77
	KeepAlives Rx: 61
	Notifications Tx: 0
	Notifications Rx: 0
	Hold Timer Expireds Tx: 0
	Hold Timer Expireds Rx: 0
	Graceful Restarts Attempted: 0
	Graceful Restarts Failed: 0
	Routes Rx Graceful Restart: 0
	End of RIB Rx: 0
Row:1  View:BGP Peer Per Port  Sampled:2020-09-29 06:19:19.621479 UTC
	Port: 10GE LAN - 002
	Sessions Up: 16
	Sessions Down: 0
	Sessions Not Started: 0
	Sessions Total: 16
	Sessions Configured: 16
	Sessions Established: 16
	Session Flap Count: 0
	Idle State Count: 0
	Connect State Count: 0
	Active State Count: 0
	OpenSent State Count: 0
	OpenConfirm State Count: 0
	Established State Count: 16
	Routes Advertised: 8000
	Routes Withdrawn: 0
	Messages Tx: 8092
	Messages Rx: 607
	Updates Tx: 8000
	Updates Rx: 531
	Routes Rx: 256016
	Route Withdraws Rx: 0
	Opens Tx: 16
	Opens Rx: 16
	KeepAlives Tx: 76
	KeepAlives Rx: 60
	Notifications Tx: 0
	Notifications Rx: 0
	Hold Timer Expireds Tx: 0
	Hold Timer Expireds Rx: 0
	Graceful Restarts Attempted: 0
	Graceful Restarts Failed: 0
	Routes Rx Graceful Restart: 0
	End of RIB Rx: 0


 (ixia_helpers.py:654)
2020-09-29 06:19:19 [    INFO] 所有BGP Peer已经全部到达Established状态 (ixia_helpers.py:654)
2020-09-29 06:19:19 [    INFO] Ixia测试仪表下发流量配置，发送路由验证流量。 (ixia_helpers.py:654)
2020-09-29 06:19:37 [    INFO] Ixia测试仪表停止流量。 (ixia_helpers.py:654)
2020-09-29 06:19:47 [    INFO] Ixia测试仪表根据需求按照Flow统计方式定制统计结果。 (ixia_helpers.py:654)
2020-09-29 06:19:49 [    INFO] 

STATS: Row:0  View:Flow Statistics  Sampled:2020-09-29 06:19:49.313373 UTC
	Tx Port: 10GE LAN - 001
	Rx Port: 10GE LAN - 002
	Traffic Item: Traffic Item 1
	Tx Frames: 94021
	Rx Frames: 94021
	Frames Delta: 0
	Loss %: 0.000
	Packet Loss Duration (ms): 0.000
	Tx Frame Rate: 0.000
	Rx Frame Rate: 0.000
	Tx L1 Rate (bps): 0.000
	Rx L1 Rate (bps): 0.000
	Rx Bytes: 6581470
	Tx Rate (Bps): 0.000
	Rx Rate (Bps): 0.000
	Tx Rate (bps): 0.000
	Rx Rate (bps): 0.000
	Tx Rate (Kbps): 0.000
	Rx Rate (Kbps): 0.000
	Tx Rate (Mbps): 0.000
	Rx Rate (Mbps): 0.000
	Store-Forward Avg Latency (ns): 16515
	Store-Forward Min Latency (ns): 0
	Store-Forward Max Latency (ns): 8316980
	First TimeStamp: 00:00:00.999
	Last TimeStamp: 00:00:10.401


 (ixia_helpers.py:654)
2020-09-29 06:19:49 [    INFO] 
Row:0  TxPort:10GE LAN - 001  RxPort:10GE LAN - 002  TxFrames:94021  RxFrames:94021
 (ixia_helpers.py:654)
2020-09-29 06:19:49 [    INFO] 与DUT建立BGP邻居状态正确且协议启动时间正常，路由验证流量无丢包。测试成功结束。 (ixia_helpers.py:654)
2020-09-29 06:19:49 [    INFO] Fib 容量为16000 (ixia_helpers.py:654)
2020-09-29 06:19:49 [    INFO] Fib 容量测试结束 (ixia_helpers.py:654)
PASSED                                                                   [100%]
------------------------------ live log teardown -------------------------------
2020-09-29 06:20:03 [    INFO] Add end marker into DUT syslog (__init__.py:25)


========================== 1 passed in 126.48 seconds ==========================
